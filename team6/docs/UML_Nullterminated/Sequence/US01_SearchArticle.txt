@startuml
hide footbox
skinparam monochrome true
skinparam shadowing false
skinparam ArrowThickness 1
skinparam sequence {
  ParticipantPadding 20
  BoxPadding 10
  ActivationBarWidth 3
}

title US-01 â€” Search Article (Semantic Search)
actor "User" as User
participant "UI" as UI
participant "SearchController" as SearchController
participant "SearchService" as SearchService
participant "SemanticSearchEngine" as SemanticSearchEngine
participant "ArticleRepository" as ArticleRepository

activate User
User -> UI : enterQuery(query)
activate UI
UI -> SearchController : performSemanticSearch(query)
activate SearchController
SearchController -> SearchService : performSemanticSearch(query)
activate SearchService
SearchService -> SemanticSearchEngine : search(query)
activate SemanticSearchEngine
SemanticSearchEngine --> SearchService : List<SearchResult>
deactivate SemanticSearchEngine
SearchService -> ArticleRepository : search(query)
activate ArticleRepository
ArticleRepository --> SearchService : List<Article>
deactivate ArticleRepository
SearchService -> SearchService : sortByRelevance(articles, query)
activate SearchService
SearchService --> SearchController : List<Article>
deactivate SearchService
SearchController --> UI : Response(articles)
deactivate SearchController
UI --> User : showResults(articles)
deactivate UI
deactivate User
deactivate SearchService
@enduml
